{% extends "djf_surveys/master.html" %}
{% block title %} Login sahifasi {% endblock title%}
{% block content %}
<div class="max-w-md mx-auto mt-10 bg-white p-8 rounded shadow">
    <h2 class="text-2xl font-bold mb-6 text-center">Tizimga kirish</h2>
    <form method="post" novalidate>
        {% csrf_token %}
        {{ form.non_field_errors }}
        <div class="mb-4">
            <label for="{{ form.username.id_for_label }}" class="block text-gray-700 text-lg">Username</label>
            {{ form.username }}
            {% if form.username.errors %}
                <p class="text-red-500 text-base mt-1">{{ form.username.errors }}</p>
            {% endif %}
        </div>
        <div class="mb-4 relative">
            <label for="{{ form.password.id_for_label }}" class="block text-gray-700 text-lg">Password</label>
            {{ form.password }}
            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center cursor-pointer mt-4" onclick="togglePasswordVisibility()">
                <!-- Eye Icon -->
                <svg id="eye-icon" class="h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                </svg>
            </span>
            {% if form.password.errors %}
                <p class="text-red-500 text-base mt-1">{{ form.password.errors }}</p>
            {% endif %}
        </div>
{#        <div class="mb-4 flex items-center">#}
{#            {{ form.remember_me }}#}
{#            <label for="{{ form.remember_me.id_for_label }}" class="ml-2 text-gray-700">Eslab qolish</label>#}
{#        </div>#}
        <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 text-lg font-bold">Kirish</button>
    </form>
{#    <p class="mt-4 text-center text-gray-600">Akkauntingiz yo‘qmi? <a href="{% url 'accounts:register' %}" class="text-blue-600 hover:underline">Bu yerda ro‘yxatdan o‘ting</a>.</p>#}
</div>
<script>
  function togglePasswordVisibility() {
      const passwordField = document.getElementById("{{ form.password.id_for_label }}");
      const eyeIcon = document.getElementById("eye-icon");
      if (passwordField.type === "password") {
          passwordField.type = "text";
          eyeIcon.classList.remove("text-gray-500");
          eyeIcon.classList.add("text-blue-500");
      } else {
          passwordField.type = "password";
          eyeIcon.classList.remove("text-blue-500");
          eyeIcon.classList.add("text-gray-500");
      }
  }
</script>
{% endblock %}